<container id="burger-output" class="row">
    <div class="col-md-6">
        <h6>Added Burgers</h6>
        <ul>

            {{#each burgers_0 }}


            <li>

                <p>Burger {{this.id}}: {{this.burger_name}}
                    <button class="devour" class="btn-sm" data-id={{this.id}}>Devour </button></p>

            </li>
            {{/each}}
        </ul>
    </div>
    <div class="col-md-6">
        <h6>Devoured Burgers</h6>
        <ul>

            {{#each burgers_1 }}


            <li>

                <p>{{this.burger_name}}</p>


            </li>
            {{/each}}
        </ul>
    </div>
</container>
<div class="row">
    <div class="col-md-5">
        <h3>Create a Burger</h3>
        <form id="createburger" class="button-size">
            <input type="text" id="burger-name">
            <button id="add-burger" type="submit">Save Burger!</button>
        </form>
    </div>
</div>



<script>
    // when user clicks add-btn
    $("#add-burger").on("click", function (event) {
        event.preventDefault();

        // make a newCharacter obj
        var newBurger = {
            // name from name input
            name: $("#burger-name")
                .val()
                .trim()
        };

        // send an AJAX POST-request with jQuery
        $.post("/api", newBurger)
            // on success, run this callback
            .then(function (data) {
                // log the data we found
                console.log(data);
                location.reload();
            });

        // empty each input box by replacing the value with an empty string
        //$("#burger-name").val("");
    });
    $(".devour").on("click", function (event) {
        //event.preventDefault();
        //let id = $(this).text().trim();
        let id = $(this).attr("data-id")
        // let updated_id = parseInt(id.slice(7, id.length));
        //console.log(updated_id);

        let updatedBurger = {
            id: id,
            devoured: 1,
        };
        $.ajax("/api/burgers/" + id, {
            type: "PUT",
            data: updatedBurger
        }).then(
            function () {
                console.log("updated id ", id);
                // Reload the page to get the updated list
                location.reload();
            }
        );

    });
</script>